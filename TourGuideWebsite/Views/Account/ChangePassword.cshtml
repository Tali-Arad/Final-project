@model TourGuideWebsite.Models.ChangePassword

@{
    ViewBag.Title = "ChangePassword";
}

<h1 class="page-header">
   Change Password
</h1>

<ol class="breadcrumb">
    <li><a href="@Url.Action("UserProfile", "Account")">User Profile</a> </li>
    <li class="active"><a href="#"></a>Change Password</li>
</ol>

@using (Html.BeginForm("ChangePassword", "Account",FormMethod.Post, new { @username = ViewBag.Username, @class = "form-horizontal", @role = "form" }))
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true)

    <div class="form-horizontal">
        <div class="form-group">
            <label class="control-label col-sm-2" for="Password">Current Password:</label>
            <div class="col-sm-4">
                <!-- User Html.PasswordFor to not show the typed password when the view is rendered -->
                @Html.PasswordFor(model => model.OldPassword, new { @class = "form-control", @type = "password" })
                @Html.ValidationMessageFor(model => model.OldPassword)
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-sm-2" for="Password">New Password:</label>
            <div class="col-sm-4">
                <!-- User Html.PasswordFor to not show the typed password when the view is rendered -->
                @Html.PasswordFor(model => model.NewPassword, new { @class = "form-control", @type = "password" })
                @Html.ValidationMessageFor(model => model.NewPassword)
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-sm-2" for="Password">Confirm New Password:</label>
            <div class="col-sm-4">
                <!-- User Html.PasswordFor to not show the typed password when the view is rendered -->
                @Html.PasswordFor(model => model.ConfirmPassword, new { @class = "form-control", @type = "password" })
                @Html.ValidationMessageFor(model => model.ConfirmPassword)
            </div>
        </div>
        <div class="form-group">
            <div class="container">
                <div class="row">
                    <div class="col-sm-offset-2 col-sm-3 col-xs-12">
                        <input type="submit" class="btn btn-default" value="Change password" name="changePassword" />
                    </div>
                </div>
            </div>
        </div>
    </div>
}
<div class="container">
    @Html.ActionLink("Back to Profile", "UserProfile", new { Username = ViewBag.Username })
</div>

<!-- Exception msg -->
@if (TempData["ChangePassException"] != null)
{
    <div class="container">
        <h2>@TempData["ChangePassException"]</h2>
    </div>
}